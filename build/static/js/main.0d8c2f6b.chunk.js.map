{"version":3,"sources":["utils/create-store.ts","utils/proxy-image.ts","redux/slice.ts","redux/api.ts","redux/api/axios.base.ts","redux/store.tsx","utils/redux/reducer-select.ts","redux/selectors.ts","components/Input/Input.styled.ts","components/Modal/Modal.styled.ts","components/Modal/Modal.tsx","views/ServerConfigModal/ServerConfigModal.tsx","hooks/useToggle.ts","components/Button/Button.styled.ts","components/Button/Button.tsx","components/ListSection/ListSection.styled.ts","components/ListSection/ListSection.tsx","assets/images/avatar.jpg","components/LazyImage/LazyImage.styled.ts","components/LazyImage/LazyImage.tsx","components/ProfileButton/ProfileButton.styled.ts","components/ProfileButton/ProfileButton.tsx","components/ProfileLinkInstagram/ProfileLinkInstagram.tsx","views/FollowersModal/FollowersModal.tsx","pages/ProfilePage/ProfilePage.styled.ts","pages/ProfilePage/ProfilePage.config.ts","pages/ProfilePage/ProfilePage.tsx","components/ProfileLink/ProfileLink.tsx","pages/SearchPage/SearchPage.styled.ts","pages/SearchPage/SearchPage.tsx","hooks/useSearchQuery.ts","App.styled.ts","App.tsx","index.tsx"],"names":["key","proxyImage","link","hostname","get","data","clear","localStorage","removeItem","set","value","setItem","JSON","stringify","getItem","parse","initialState","slice","createSlice","name","reducers","changeHost","state","newHost","payload","actions","sliceReducer","reducer","serverApi","createApi","reducerPath","keepUnusedDataFor","baseQuery","a","path","method","headers","skip","url","axios","result","err","error","status","response","endpoints","build","search","mutation","query","username","history","profile","analyze","useHistoryQuery","useProfileQuery","useAnalyzeMutation","useSearchMutation","store","configureStore","middleware","prev","concat","setupListeners","dispatch","selector","ReduxContainer","children","hostnameSelector","combiner","createSelector","Input","styled","input","RelativeWrapper","div","BodyWrapper","DialogWrapper","height","width","Header","Content","Footer","Title","p","ShadowBlock","Modal","containerPin","contentBottomPadding","title","visible","footer","hideFooterSplitter","onClose","useHotkeys","style","minHeight","minWidth","ServerConfigModal","defaultValue","useState","toggled","setToggled","onToggle","useCallback","onToggled","onUnToggled","useToggle","showSettings","openSettings","closeSettings","host","useSelector","useDispatch","margin","placeholder","onChange","e","target","button","Button","disabled","onClick","ListSection","LazyImage","src","placeholderSrc","blur","fit","loaded","setLoaded","imgStyle","objectFit","filter","undefined","borderRadius","visibility","afterLoad","delayTime","threshold","delayMethod","TextContainer","Username","Date","ProfileButton","date","avatar","AvatarLogo","unix","format","ProfileLinkInstagram","props","useMemo","href","rel","FollowersModal","list","opened","map","follower","id","time","items","user","SearchText","AnalyzeWrapper","InfoContainer","BackgroundImage","ButtonWrapper","createBuildFollowers","length","createBuildHistory","count","newCount","ProfilePage","useParams","queryProfile","analyzeProfile","isAnalyzing","isLoading","manage","modal","setModal","buildFollowers","buildHistory","buttons","followers","following","notFollowers","notFollowing","newFollowers","newFollowing","lostFollowers","lostFollowing","config","updated","to","Routes","Search","zIndex","ProfileLink","Profile","replace","VerticalWrapper","List","SearchPage","q","useLocation","URLSearchParams","useSearchQuery","push","useHistory","setSearch","fetchSearch","useEffect","bounce","setTimeout","newParams","window","location","toString","clearTimeout","onSearch","spellCheck","App","component","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d8c2f6b.chunk.js","sourcesContent":["import { Nullable } from './@types';\n\ntype StoreData<T> = {\n  data: T;\n}\n\nexport const createStore = <T extends string | object = string, Key extends string = string>(key: Key) => ({\n  get KEY() {\n    return key;\n  },\n\n  clear: () => localStorage.removeItem(key),\n\n  set: (value: T) => {\n    switch(typeof value) {\n      case 'string': return localStorage.setItem(key, value);\n      case 'object': return localStorage.setItem(key, JSON.stringify(value));\n    }\n  },\n\n  get: (): StoreData<Nullable<T>> => {\n    const value = localStorage.getItem(key);\n    if (!value) return { data: null };\n\n    try {\n      return { data: JSON.parse(value) };\n    } catch {\n      return { data: value as T };\n    }\n  },\n});\n","import { hostname } from \"../redux/slice\";\n\nexport const proxyImage = (link?: string) => link ? hostname.get().data + '/api/proxy-image?original=' + link : '';\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { createStore } from \"../utils\";\n\nexport const hostname = createStore('host');\n\nif (!hostname.get().data) {\n  hostname.set('http://localhost:8080');\n}\n\nconst initialState = {\n  hostname: hostname.get().data\n}\n\nexport const slice = createSlice({\n  name: 'Store',\n  initialState,\n  reducers: {\n    changeHost: (state, { payload }: PayloadAction<string>) => {\n      const newHost = payload || 'http://localhost:8080';\n      \n      state.hostname = newHost;\n      hostname.set(newHost);\n    },\n  }\n});\n\nexport const { changeHost } = slice.actions;\nexport const { reducer: sliceReducer } = slice;\n","import { createApi } from \"@reduxjs/toolkit/dist/query/react\";\nimport { FollowerInfo, UserAnalyze, UserInfo } from \"../models/user\";\nimport { axiosBase } from \"./api/axios.base\";\n\nexport const serverApi = createApi({\n  reducerPath: \"SERVER_API\",\n  keepUnusedDataFor: 60 * 10, // 10 minutes\n  baseQuery: axiosBase(),\n  endpoints: (build) => ({\n\n    search: build.mutation<FollowerInfo[], string>({\n      query: (username: string) => ({ path: \"/search/\" + username }),\n    }),\n\n    history: build.query<UserInfo[], void>({\n      query: () => ({ path: \"/history\" }),\n    }),\n\n    profile: build.query<UserAnalyze, string>({\n      query: (username: string) => ({ path: \"/profile/\" + username }),\n    }),\n\n    analyze: build.mutation<UserAnalyze, string>({\n      query: (username: string) => ({\n        path: \"/profile/\",\n        data: { username },\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }),\n    }),\n\n  }),\n});\n\nexport const { useHistoryQuery, useProfileQuery, useAnalyzeMutation, useSearchMutation } = serverApi;\n","import axios, { AxiosError, AxiosRequestConfig } from 'axios';\nimport { hostname } from '../slice';\n\ntype ReqOptions = {\n  path    : string;\n  method? : AxiosRequestConfig['method'];\n  headers?: AxiosRequestConfig['headers'];\n  data?   : AxiosRequestConfig['data'];\n  skip?   : boolean;\n};\n\nexport const axiosBase =\n  () =>\n  async ({ path, method = 'GET', data, headers, skip }: ReqOptions) => {\n    try {\n      if (skip) return { data: null };\n      const url = hostname.get().data + `/api${path}`;\n      \n      const result = await axios(url, {\n        url,\n        data,\n        method,\n        headers\n      });\n      \n      return { data: result.data };\n    }\n    catch (axiosError) {\n      let err = axiosError as AxiosError;\n      \n      return {\n        error: { status: err.response?.status, data: err.response?.data },\n      };\n    }\n  };\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\n\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport { setupListeners } from \"@reduxjs/toolkit/dist/query\";\n\nimport { serverApi } from \"./api\";\nimport { sliceReducer } from './slice';\n\nconst store = configureStore({\n  reducer: {\n    sliceReducer,\n    [serverApi.reducerPath]: serverApi.reducer\n  },\n  middleware: (prev) => prev().concat(serverApi.middleware),\n});\n\nsetupListeners(store.dispatch);\n\nexport const ReduxContainer: React.FC = ({ children }) => (\n  <Provider {...{ children, store }} />\n);\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { createSelector, Selector } from '@reduxjs/toolkit';\nimport { RootState } from '../../redux';\n\nexport const reducerSelect =\n  <R1, S = RootState>(selector: Selector<S, R1>) =>\n  <T>(combiner: (res: R1) => T) =>\n    createSelector<R1, T, S>(selector, combiner);\n","import { useSelector } from \"react-redux\";\nimport { reducerSelect } from \"../utils/redux\";\n\nconst select = reducerSelect(({ sliceReducer }) => sliceReducer);\n\nconst hostnameSelector = select(({ hostname }) => hostname);\nexport const useHostname = () => useSelector(hostnameSelector) as string;\n","import styled from 'styled-components';\n\nexport const Input = styled.input`\n  display      : flex;\n  font-size    : 16px;\n  margin       : 20px;\n  padding      : 5px;\n  width        : 300px;\n  border-radius: 0.5rem;\n  text-align   : center;\n  background   : #666;\n  color        : #fff;\n  font-weight  : 600;\n\n  :focus {\n    background : #777;\n  }\n`;\n","import styled from 'styled-components';\nimport { Nullable } from '../../utils';\n\nexport const RelativeWrapper = styled.div`\n\tposition  : relative;\n\ttransition: none !important;\n\tz-index   : 9998;\n\n\t&[data-visible=true] {\n\t\tanimation: forwards open 250ms;\n\t}\n\n\t&[data-visible=false] {\n\t\tanimation: forwards close 250ms;\n\t}\n\n\t@keyframes close {\n\t\t0% {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t}\n\t\t99% {\n\t\t\topacity: 0;\n\t\t\tvisibility: visible;\n\t\t}\n\t\t100% {\n\t\t\tvisibility: hidden;\n\t\t}\n\t}\n\n\t@keyframes open {\n\t\t1% {\n\t\t\tvisibility: visible;\n\t\t}\n\t\t2% {\n\t\t\topacity: 0;\n\t\t\tvisibility: visible;\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n`;\n\nexport const BodyWrapper = styled.div`\n  top             : 0;\n  right           : 0;\n  position        : fixed;\n  display         : flex;\n  opacity         : 0;\n  align-items     : center;\n  justify-content : center;\n  z-index         : 9999;\n\n\t&[data-visible=true] {\n\t\topacity: 1;\n\t}\n\n\t&[data-pin=false] {\n\t\tleft      : 0;\n\t\tbottom    : 0;\n\t\tbackground: rgba(0, 0, 0, 0.8);\n\t}\n\n\t&[data-pin=true] {\n\t\ttop: 10px;\n\t\tposition: absolute;\n\t}\n`;\n\nexport const DialogWrapper = styled.div<{ height?: Nullable<number>; width?: Nullable<number>; }>` \n\theight: ${({ height }) => height ? `${height}px` : 'fit-content'};\n\t${({ width }) => width ? `width: ${width}px` : ''};\n  \n\tbackground      : #aaa;\n\tposition        : relative;\n\tdisplay         : flex;\n\tflex-direction  : column;\n\tmin-width       : 200px;\n\tborder-radius   : 1rem;\n\toverflow-y      : hidden;\n\toverflow-x      : hidden;\n\ttransform       : scale(0.97);\n\n\t&[data-visible=true] {\n\t\ttransform: scale(1);\n\t}\n`;\n\nexport const Header = styled.div`\n  display        : flex;\n  justify-content: space-between;\n  align-items    : center;\n  padding        : 12px 20px 14px 20px;\n`;\n\nexport const Content = styled.div`\n\tdisplay       : flex;\n\tflex-direction: column;\n\tpadding       : 0 20px;\n\toverflow-y    : auto;\n\toverflow-x    : auto;\n\n\t&[data-bottom-space=true], :last-child {\n\t\tpadding-bottom: 20px;\n\t}\n`;\n\nexport const Footer = styled.div`\n\tdisplay        : flex;\n\tmin-height     : 76px;\n\tmargin-top     : auto;\n\tjustify-content: flex-end;\n\tpadding        : 20px 30px;\n\twidth          : 100%;\n\n\t&[data-hide-splitter='false'] {\n\t\tborder-top: 1px solid #777;\n\t}\n\n\t& > *:not(:last-child) {\n\t\tmargin-right: 30px;\n\t}\n`;\n\nexport const Title = styled.p`\n  font-size  : 18px;\n  font-weight: 600;\n  color      : #333;\n`;\n\nexport const ShadowBlock = styled.div`\n\theight: 100%;\n\twidth: 100%;\n`;","import { useHotkeys } from \"react-hotkeys-hook\";\nimport { Nullable } from \"../../utils\";\n\nimport * as styled from \"./Modal.styled\";\n\nexport type ModalProps = {\n  height?: number;\n  title: string;\n  width?: number;\n  containerPin?: boolean;\n  contentBottomPadding?: boolean;\n  hideFooterSplitter?: boolean;\n  visible?: boolean;\n  footer?: React.ReactNode | React.ReactNode[];\n  onClose?: Nullable<() => void>;\n};\n\nconst Modal: React.FC<ModalProps> = ({\n  height,\n  width,\n  children,\n  containerPin,\n  contentBottomPadding,\n  title,\n  visible,\n  footer,\n  hideFooterSplitter = false,\n  onClose,\n}) => {\n  useHotkeys(\"esc\", () => onClose?.());\n\n  return (\n    <styled.RelativeWrapper data-visible={visible}>\n      <styled.BodyWrapper data-visible={visible} data-pin={containerPin ?? false}>\n        <styled.DialogWrapper data-visible={visible} height={height} width={width}>\n          <styled.Header>\n            <styled.Title children={title} />\n          </styled.Header>\n          <styled.Content data-bottom-space={contentBottomPadding ?? false}>{children}</styled.Content>\n          {!visible && <styled.ShadowBlock style={{ minHeight: height, minWidth: width }} />}\n          {footer && <styled.Footer data-hide-splitter={hideFooterSplitter} children={footer} />}\n        </styled.DialogWrapper>\n      </styled.BodyWrapper>\n    </styled.RelativeWrapper>\n  );\n};\n\nexport default Modal;\nexport { Modal };\n","import { useToggle } from \"../../hooks/useToggle\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\nimport { useDispatch } from \"react-redux\";\nimport { useHostname } from \"../../redux/selectors\";\n\nimport { Input } from \"../../components/Input\";\nimport { Modal } from \"../../components/Modal\";\n\nimport { changeHost } from \"../../redux/slice\";\n\nexport const ServerConfigModal: React.VFC = () => {\n  const [showSettings, , openSettings, closeSettings] = useToggle();\n  useHotkeys('ctrl+k, cmd+k', openSettings);\n  \n  const host = useHostname();\n  const dispatch = useDispatch()\n\n  const onChange: React.ChangeEventHandler<HTMLInputElement> = (e) =>\n    dispatch(changeHost(e.target.value));\n  \n  return (\n    <Modal title={\"Server settings\"} visible={showSettings} onClose={closeSettings}>\n      <Input style={{ margin: 0 }} placeholder={'Hostname'} value={host || ''} onChange={onChange} />\n    </Modal>\n  );\n};\n","import { useCallback, useState } from 'react';\n\nexport const useToggle = (defaultValue: boolean = false) => {\n  const [toggled, setToggled] = useState(defaultValue);\n\n  const onToggle = useCallback(() => setToggled((prev) => !prev), []);\n  const onToggled = useCallback(() => setToggled(true), []);\n  const onUnToggled = useCallback(() => setToggled(false), []);\n\n  return [\n    toggled,\n    onToggle,\n    onToggled,\n    onUnToggled,\n  ] as const;\n};\n","import styled from 'styled-components';\n\nexport const BodyWrapper = styled.button`\n  display        : flex;\n  min-width      : fit-content;\n  background     : rgba(136, 136, 136, 0.5);\n  padding        : 18px;\n  border-radius  : 1rem;\n  transition     : 100ms;\n  font-size      : 16px;\n  justify-content: center;\n  color          : #fff;\n  font-weight    : 600;\n  z-index        : 10;\n\n  :active {\n    background: rgba(136, 136, 136, 0.3);\n  }\n\n  :disabled {\n    cursor: default;\n  }\n`;\n","import React from 'react';\nimport * as styled from './Button.styled';\n\nexport type ClickEvent = React.MouseEvent<HTMLButtonElement, MouseEvent>;\n\ntype Props = {\n\tonClick? : (e: ClickEvent) => void;\n\tvalue?   : any;\n\tdisabled?: boolean;\n};\n\nexport const Button: React.FC<Props> = ({ children, disabled, value, onClick }) => {\n\treturn <styled.BodyWrapper value={value} disabled={disabled} onClick={onClick}>{children}</styled.BodyWrapper>;\n};\n","import styled from 'styled-components';\n\nexport const BodyWrapper = styled.div`\n\tdisplay       : flex;\n\tflex-direction: column;\n\tmin-width     : 300px;\n\n  & > *:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  & > * {\n    min-width: 300px !important;\n  }\n\n  :not(:last-child) {\n    margin-bottom: 20px;\n  }\n`;\n\nexport const Title = styled.p`\n  color      : #fff;\n  font-size  : 16px;\n  font-weight: 600;\n  text-align : center;\n`;","import * as styled from \"./ListSection.styled\";\n\ntype Props = {\n  title?: string;\n};\n\nexport const ListSection: React.FC<Props> = ({ title, children}) => {\n  return (\n    <styled.BodyWrapper>\n      {title && <styled.Title children={title} />}\n      {children}\n    </styled.BodyWrapper>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/avatar.7fe14f0a.jpg\";","import styled from 'styled-components';\n\nexport const BodyWrapper = styled.div`\n  position: relative;\n  display : flex;\n  height  : 100px;\n  width   : 100px;\n\n\timg {\n    top       : 0;\n    left      : 0;\n    position  : absolute;\n    object-fit: contain;\n  }\n`;\n","/* eslint-disable jsx-a11y/alt-text */\nimport { useState } from \"react\";\n\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport { proxyImage } from \"../../utils\";\n\nimport * as styled from \"./LazyImage.styled\";\n\ntype Props = {\n  src?           : string;\n  placeholderSrc?: string;\n  height?        : number | string;\n  width?         : number | string;\n  blur?          : number;\n  fit?           : React.CSSProperties[\"objectFit\"];\n  style?         : Omit<React.CSSProperties, \"height\" | \"width\" | \"objectFit\">;\n};\n\nexport const LazyImage: React.VFC<Props> = ({ src, placeholderSrc, height, width, blur, fit, style }) => {\n  const [loaded, setLoaded] = useState(false);\n\tconst onLoaded = () => setLoaded(true);\n\t\n\tconst imgStyle = {\n    height,\n    width,\n\t\tobjectFit: fit,\n\t\tfilter: blur ? `blur(${blur}px)` : undefined,\n\t\tborderRadius: style?.borderRadius\n  };\n\n  return (\n    <styled.BodyWrapper style={{ ...style, height, width }}>\n      {placeholderSrc && !loaded && <img src={placeholderSrc} style={imgStyle} />}\n      <LazyLoadImage\n        style={{ ...imgStyle, visibility: loaded ? 'visible' : 'hidden' }}\n        afterLoad={onLoaded}\n        delayTime={200}\n        threshold={300}\n        delayMethod=\"throttle\"\n\t\t\t\tsrc={proxyImage(src)}\n\t\t\t/>\n    </styled.BodyWrapper>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const BodyWrapper = styled.div`\n  display    : flex;\n  align-items: center;\n  width      : 300px;\n\n  img {\n    top          : 0;\n    left         : 0;\n    position     : absolute;\n    max-height   : 100px;\n    object-fit   : contain;\n    border-radius: 100px;\n  }\n`;\n\nexport const TextContainer = styled.div`\n  display       : flex;\n  flex-direction: column;\n  margin-left   : 15px;\n  text-align    : left;\n  overflow      : hidden;\n  max-width     : 180px;\n\n  p {\n    color  : #fff;\n    outline: none;\n    width  : 180px;\n  }\n`;\n\nexport const Username = styled.p`\n  font-weight  : 600 !important;\n  font-size    : 16px !important;\n  white-space  : nowrap;\n  text-overflow: ellipsis;\n  overflow     : hidden;\n`;\n\nexport const Date = styled.p`\n  font-weight: 500 !important;\n  font-size  : 14px !important;\n`;\n","import { AvatarLogo } from \"../../assets/images\";\nimport { LazyImage } from \"../LazyImage\";\nimport { Button } from \"../Button\";\nimport { unix } from 'dayjs';\n\nimport * as styled from \"./ProfileButton.styled\";\n\nexport type ProfileButtonProps = {\n  username: string;\n  avatar?: string;\n  date?: number;\n};\n\nexport const ProfileButton: React.VFC<ProfileButtonProps> = ({\n  username,\n  date,\n  avatar,\n}) => {\n  return (\n    <Button>\n      <styled.BodyWrapper>\n        <LazyImage src={avatar} placeholderSrc={AvatarLogo} style={{ borderRadius: 100 }} />\n        <styled.TextContainer>\n          <styled.Username children={username} />\n          {date && <styled.Date children={unix(date).format('ddd, DD MMM YYYY  HH:mm')} />}\n        </styled.TextContainer>\n      </styled.BodyWrapper>\n    </Button>\n  );\n};\n","import { useMemo } from \"react\";\nimport { ProfileButton, ProfileButtonProps } from \"../ProfileButton\";\n\ntype Props = ProfileButtonProps;\n\nconst link = 'https://www.instagram.com/'\n\nexport const ProfileLinkInstagram: React.VFC<Props> = ({ username, ...props }) => {\n\tconst profile = useMemo(() => link + username, [username]);\n\n  return (\n    <a href={profile} target='_blank' rel='noreferrer' > \n      <ProfileButton username={username} {...props} />\n    </a>\n  );\n};\n","import { ListSection } from \"../../components/ListSection\";\nimport { Modal } from \"../../components/Modal\";\nimport { ProfileLinkInstagram } from \"../../components/ProfileLinkInstagram\";\nimport { FollowerInfo } from \"../../models/user\";\nimport { History } from \"../../models/history\";\nimport { unix } from \"dayjs\";\n\ntype Props = {\n  title: string;\n  opened: boolean;\n  list   : FollowerInfo[] | History[];\n  onClose: () => void;\n};\n\nexport const FollowersModal: React.VFC<Props> = ({ list, title, opened, onClose }) => {  \n  return (\n    <Modal title={title} height={500} visible={opened} onClose={onClose}>\n      <ListSection>\n        {list?.map((props) => {\n          const history = props as History;\n          const follower = props as FollowerInfo;\n\n          if (follower?.username) {\n            return <ProfileLinkInstagram key={follower.id} {...follower} />\n          }\n\n          return (\n            <>\n              <p children={unix(history.time).format(\"dddd - DD MMMM YYYY -  HH:mm\")} />\n              {history?.items?.map((user) => (\n                <ProfileLinkInstagram key={user.id} {...user} />\n              ))}\n            </>\n          );\n        })\n        }\n      </ListSection>\n    </Modal>\n  );\n};\n","import styled from 'styled-components';\n\nexport const BodyWrapper = styled.div`\n\tdisplay        : flex;\n\tflex-direction : column;\n\talign-items    : center;\n\tjustify-content: center;\n\twidth          : 100%;\n\tmin-height     : 100vh;\n\toverflow       : hidden;\n\n  & > *:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  & > * {\n    width: 60vw;\n  }\n`;\n\nexport const SearchText = styled.p`\n  text-align: center;\n  color     : #fff;\n  margin-top: 20px;\n  font-size : 14px;\n`;\n\nexport const AnalyzeWrapper = styled.div`\n  display   : flex;\n  width     : 100%;\n  margin-top: 30px;\n\n  button {\n    background: #9933ff;\n    border: 0;\n    width: 100%;\n\n    :active {\n      background: #8000ff;\n    }\n\n    :disabled {\n      background: #42176e;\n    }\n  }\n`;\n\nexport const InfoContainer = styled.div`\n  position       : relative;\n  display        : flex;\n  flex-direction : column;\n  align-items    : center;\n  justify-content: center;\n  background     : rgba(0,0,0,0.3);\n  padding        : 50px;\n  border-radius  : 2rem;\n  overflow       : hidden;\n\n  & > * {\n    z-index: 1;\n  }\n  \n  p {\n    :first-child {\n      font-size: 22px;\n      font-weight: 600;\n    }\n\n    color     : #fff;\n    text-align: center;\n  }\n\n  & > *:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n\nexport const BackgroundImage = styled.div`\n  position: absolute;\n  width   : 100%;\n`;\n\nexport const ButtonWrapper = styled.div`\n  display              : grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap      : 20px;\n  grid-row-gap         : 20px;\n`;","import { useState } from \"react\";\n\nimport { History } from \"../../models/history\";\nimport { FollowerInfo, UserAnalyze } from \"../../models/user\";\n\nexport type ModalState = {\n  opened: boolean;\n  title: string;\n  list: FollowerInfo[] | History[];\n};\n\nconst createBuildFollowers =\n  (dispatch: (data: ModalState) => void) => (name: string, list: FollowerInfo[] = []) => {\n    const title = `${name} (${list?.length || 0})`;\n    return {\n      children: title,\n      onClick: () => dispatch({ title, list, opened: true }),\n    };\n  };\n\nconst createBuildHistory = (dispatch: (data: ModalState) => void) => (name: string, list: History[] = []) => {\n  let count = 0;\n\n  for (const {items} of list) {\n    count += items.length;\n  }\n\n  const newCount = list?.[0]?.items?.length || 0;\n  const title = `${name} (${count || 0})${newCount ? ` +${newCount}` : ''}`;\n    return {\n      children: title,\n      onClick: () => dispatch({ title, list, opened: true }),\n    };\n}\n\nexport const useManageModal = (payload: UserAnalyze = {} as UserAnalyze) => {\n  const [modal, setModal] = useState<ModalState>({ title: '', list: [], opened: false });\n  const buildFollowers = createBuildFollowers(setModal);\n  const buildHistory = createBuildHistory(setModal);\n\n  const { user, history } = payload;\n  const buttons = [\n    buildFollowers(\"Followers\", user?.followers),\n    buildFollowers(\"Following\", user?.following),\n    buildFollowers(\"I don't follow back\", user?.notFollowers),\n    buildFollowers(\"Don't follow me back\", user?.notFollowing),\n    buildHistory(\"New followers\", history?.newFollowers),\n    buildHistory(\"New following\", history?.newFollowing),\n    buildHistory(\"Lost followers\", history?.lostFollowers),\n    buildHistory(\"Lost following\", history?.lostFollowing),\n  ];\n\n  const onClose = () => setModal((prev) => ({ ...prev, opened: false }));\n\n  return { buttons, modal, onClose };\n};\n","import { Link, useParams } from \"react-router-dom\";\nimport { useAnalyzeMutation, useProfileQuery } from \"../../redux/api\";\n\nimport { Button } from \"../../components/Button\";\nimport { FollowersModal } from \"../../views/FollowersModal\";\nimport { LazyImage } from \"../../components/LazyImage\";\nimport { AvatarLogo } from \"../../assets/images\";\n\nimport { Routes } from \"../../App\";\nimport { proxyImage } from \"../../utils\";\nimport { unix } from \"dayjs\";\n\nimport * as styled from \"./ProfilePage.styled\";\nimport * as config from \"./ProfilePage.config\";\n\ntype Props = {};\n\nexport const ProfilePage: React.VFC<Props> = () => {\n  const { id } = useParams<{ id: string }>();\n  const { data: queryProfile } = useProfileQuery(id);\n  const [analyze, { data: analyzeProfile, isLoading: isAnalyzing }] = useAnalyzeMutation();\n\n  const profile = analyzeProfile || queryProfile;\n  const onAnalyze = () => analyze(id);\n  const manage = config.useManageModal(profile);\n\n  const updated = profile?.user?.updated ? unix(profile?.user?.updated).format(\"dddd - DD MMMM YYYY -  HH:mm\") : null;\n\n  return (\n    <styled.BodyWrapper>\n      <styled.BackgroundImage>\n        <LazyImage\n          placeholderSrc={AvatarLogo}\n          src={proxyImage(profile?.user?.avatar)}\n          height={\"846px\"}\n          width={\"100%\"}\n          fit={\"cover\"}\n          blur={100}\n        />\n      </styled.BackgroundImage>\n      <Link to={Routes.Search} style={{ zIndex: 1 }}>\n        <styled.SearchText children={\"SEARCH\"} />\n      </Link>\n      <styled.InfoContainer>\n        <LazyImage\n          placeholderSrc={AvatarLogo}\n          src={proxyImage(profile?.user?.avatar)}\n          height={200}\n          width={200}\n          style={{ borderRadius: 200 }}\n        />\n        <b>\n          <p children={profile?.user?.username || id} />\n        </b>\n        <p children={updated || \"not analyzed\"} />\n        <styled.AnalyzeWrapper>\n          <Button children={`Analyz${isAnalyzing ? \"ing\" : \"e\"}`} disabled={isAnalyzing} onClick={onAnalyze} />\n        </styled.AnalyzeWrapper>\n      </styled.InfoContainer>\n\n      <styled.ButtonWrapper>\n        {manage.buttons.map((props) => (\n          <Button key={props.children} {...props} />\n        ))}\n      </styled.ButtonWrapper>\n      <FollowersModal {...manage.modal} onClose={manage.onClose} />\n    </styled.BodyWrapper>\n  );\n};\n","import { useMemo } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport { Routes } from \"../../App\";\n\nimport { ProfileButton, ProfileButtonProps } from \"../ProfileButton\";\n\ntype Props = ProfileButtonProps\n\nexport const ProfileLink: React.VFC<Props> = ({ username, ...props }) => {\n\tconst profile = useMemo(() => Routes.Profile.replace(':id', username), [username]);\n\n  return (\n    <Link to={profile}>\n      <ProfileButton username={username} {...props} />\n    </Link>\n  );\n};\n","import styled from 'styled-components';\n\nexport const BodyWrapper = styled.div`\n\tdisplay        : flex;\n\tflex-direction : column;\n\talign-items    : center;\n\tjustify-content: center;\n\toverflow-x     : hidden;\n\toverflow-y     : hidden;\n\tmax-height     : 100vh;\n\tmin-width      : 100vw;\n`;\n\nexport const VerticalWrapper = styled.div`\n  display   : flex;\n  overflow-x: auto;\n  overflow-y: auto;\n\n  & > *:not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nexport const List = styled.div`\n  display       : flex;\n  flex-direction: column;\n  overflow-x    : auto;\n  overflow-y    : auto;\n`;","import { useHistoryQuery, useSearchMutation } from \"../../redux/api\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useSearchQuery } from \"../../hooks/useSearchQuery\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { ProfileLink } from \"../../components/ProfileLink\";\nimport { ListSection } from \"../../components/ListSection\";\nimport { Input } from '../../components/Input';\n\nimport * as styled from \"./SearchPage.styled\";\n\ntype Props = {};\n\nexport const SearchPage: React.VFC<Props> = () => {\n  const query = useSearchQuery();\n  const q = query.get('q') as string;\n  \n  const { push } = useHistory();\n  const [search, setSearch] = useState('');\n  \n  const [fetchSearch, { data: result }] = useSearchMutation();\n  const { data: history } = useHistoryQuery();\n\n  useEffect(() => {\n    if (q) setSearch(q);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    let bounce: NodeJS.Timer;\n    bounce = setTimeout(\n      () => {\n        if (!search) return;\n        fetchSearch(search);\n\n        const newParams = new URLSearchParams(window.location.search);\n        newParams.set('q', search);\n\n        push({ search: newParams.toString() });\n      },\n      1000\n    );\n\n    return () => clearTimeout(bounce);\n  }, [fetchSearch, push, search]);\n\n  const onSearch = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => setSearch(e.target.value),\n    []\n  );\n\n  return (\n    <styled.BodyWrapper>\n      <Input\n        value={search}\n        spellCheck={false}\n        onChange={onSearch}\n      />\n      <styled.VerticalWrapper>\n        <styled.List>\n          <ListSection title={\"History\"}>\n            {history?.map(({ id, updated, username, avatar }) => (\n              <ProfileLink\n                key={id}\n                date={updated}\n                username={username}\n                avatar={avatar}\n              />\n            ))}\n          </ListSection>\n        </styled.List>\n        <styled.List>\n          <ListSection title={\"Search\"}>\n            {result?.map(({ id, username, avatar }) => (\n              <ProfileLink key={id} username={username} avatar={avatar} />\n            ))}\n          </ListSection>\n        </styled.List>\n      </styled.VerticalWrapper>\n    </styled.BodyWrapper>\n  );\n};\n","import { useLocation } from 'react-router';\n\nexport const useSearchQuery = () => {\n  const { search } = useLocation();\n  return new URLSearchParams(search);\n};\n","import styled from 'styled-components';\n\nexport const BodyWrapper = styled.div`\n  width     : 100vw;\n  min-height: 100vh;\n  background: #555;\n`;","import { Switch, Route, HashRouter, Redirect } from \"react-router-dom\";\nimport { ReduxContainer } from \"./redux/store\";\n\nimport { ServerConfigModal } from \"./views/ServerConfigModal\";\nimport { ProfilePage } from \"./pages/ProfilePage\";\nimport { SearchPage } from \"./pages/SearchPage\";\n\nimport * as styled from \"./App.styled\";\n\n\nexport const Routes = {\n  Search: \"/search\",\n  Profile: \"/profile/:id\",\n} as const;\n\nfunction App() {\n  return (\n    <ReduxContainer>\n      <HashRouter>\n        <styled.BodyWrapper>\n          <Switch>\n            <Route path={Routes.Search} component={SearchPage} />\n            <Route path={Routes.Profile} component={ProfilePage} />\n            <Redirect from={\"*\"} to={Routes.Search} />\n          </Switch>\n          <ServerConfigModal />\n        </styled.BodyWrapper>\n      </HashRouter>\n    </ReduxContainer>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}