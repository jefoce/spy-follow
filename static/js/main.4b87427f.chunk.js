(this["webpackJsonpig-analyzer"]=this["webpackJsonpig-analyzer"]||[]).push([[0],{58:function(t,n,e){},86:function(t,n,e){"use strict";e.r(n);var i,r=e(0),a=e.n(r),o=e(24),c=e.n(o),l=(e(58),e(20)),d=e(7),s=e(26),u=e(16),b=e(2),h=e(47),j=e(46),f=e(23),p=e.n(f),v=e(27),x=e(45),O=e.n(x),m=function(t){return t?g.get().data+"/api/proxy-image?original="+t:""},g=(i="host",{get KEY(){return i},clear:function(){return localStorage.removeItem(i)},set:function(t){switch(typeof t){case"string":return localStorage.setItem(i,t);case"object":return localStorage.setItem(i,JSON.stringify(t))}},get:function(){var t=localStorage.getItem(i);if(!t)return{data:null};try{return{data:JSON.parse(t)}}catch(n){return{data:t}}}});g.get().data||g.set("http://localhost:8080");var w={hostname:g.get().data},y=Object(b.createSlice)({name:"Store",initialState:w,reducers:{changeHost:function(t,n){var e=n.payload||"http://localhost:8080";t.hostname=e,g.set(e)}}}),k=y.actions.changeHost,S=y.reducer,C=Object(j.createApi)({reducerPath:"SERVER_API",keepUnusedDataFor:600,baseQuery:function(){var t=Object(v.a)(p.a.mark((function t(n){var e,i,r,a,o,c,l,d,s,u,b;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.path,i=n.method,r=void 0===i?"GET":i,a=n.data,o=n.headers,c=n.skip,t.prev=1,!c){t.next=4;break}return t.abrupt("return",{data:null});case 4:return l=g.get().data+"/api".concat(e),t.next=7,O()(l,{url:l,data:a,method:r,headers:o});case 7:return d=t.sent,t.abrupt("return",{data:d.data});case 11:return t.prev=11,t.t0=t.catch(1),b=t.t0,t.abrupt("return",{error:{status:null===(s=b.response)||void 0===s?void 0:s.status,data:null===(u=b.response)||void 0===u?void 0:u.data}});case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(n){return t.apply(this,arguments)}}(),endpoints:function(t){return{search:t.mutation({query:function(t){return{path:"/search/"+t}}}),history:t.query({query:function(){return{path:"/history"}}}),profile:t.query({query:function(t){return{path:"/profile/"+t}}}),analyze:t.mutation({query:function(t){return{path:"/profile/",data:{username:t},method:"POST",headers:{"Content-Type":"application/json"}}}})}}}),z=C.useHistoryQuery,M=C.useProfileQuery,H=C.useAnalyzeMutation,P=C.useSearchMutation,Y=e(1),F=Object(b.configureStore)({reducer:Object(s.a)({sliceReducer:S},C.reducerPath,C.reducer),middleware:function(t){return t().concat(C.middleware)}});Object(h.setupListeners)(F.dispatch);var R,D,I,L,q,E,T,A,J,N,Q,U,B,_,G,K,V,W,X,Z,$,tt,nt,et,it,rt,at,ot,ct=function(t){var n=t.children;return Object(Y.jsx)(u.Provider,{children:n,store:F})},lt=e(13),dt=e(28),st=e(18),ut=(R=function(t){return t.sliceReducer},function(t){return Object(st.a)(R,t)})((function(t){return t.hostname})),bt=e(3),ht=e(4),jt=ht.a.input(D||(D=Object(bt.a)(["\n  display      : flex;\n  font-size    : 16px;\n  margin       : 20px;\n  padding      : 5px;\n  width        : 300px;\n  border-radius: 0.5rem;\n  text-align   : center;\n  background   : #666;\n  color        : #fff;\n  font-weight  : 600;\n\n  :focus {\n    background : #777;\n  }\n"]))),ft=ht.a.div(I||(I=Object(bt.a)(["\n\tposition  : relative;\n\ttransition: none !important;\n\tz-index   : 9998;\n\n\t&[data-visible=true] {\n\t\tanimation: forwards open 250ms;\n\t}\n\n\t&[data-visible=false] {\n\t\tanimation: forwards close 250ms;\n\t}\n\n\t@keyframes close {\n\t\t0% {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t}\n\t\t99% {\n\t\t\topacity: 0;\n\t\t\tvisibility: visible;\n\t\t}\n\t\t100% {\n\t\t\tvisibility: hidden;\n\t\t}\n\t}\n\n\t@keyframes open {\n\t\t1% {\n\t\t\tvisibility: visible;\n\t\t}\n\t\t2% {\n\t\t\topacity: 0;\n\t\t\tvisibility: visible;\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n"]))),pt=ht.a.div(L||(L=Object(bt.a)(["\n  top             : 0;\n  right           : 0;\n  position        : fixed;\n  display         : flex;\n  opacity         : 0;\n  align-items     : center;\n  justify-content : center;\n  z-index         : 9999;\n\n\t&[data-visible=true] {\n\t\topacity: 1;\n\t}\n\n\t&[data-pin=false] {\n\t\tleft      : 0;\n\t\tbottom    : 0;\n\t\tbackground: rgba(0, 0, 0, 0.8);\n\t}\n\n\t&[data-pin=true] {\n\t\ttop: 10px;\n\t\tposition: absolute;\n\t}\n"]))),vt=ht.a.div(q||(q=Object(bt.a)([" \n\theight: ",";\n\t",";\n  \n\tbackground      : #aaa;\n\tposition        : relative;\n\tdisplay         : flex;\n\tflex-direction  : column;\n\tmin-width       : 200px;\n\tborder-radius   : 1rem;\n\toverflow-y      : hidden;\n\toverflow-x      : hidden;\n\ttransform       : scale(0.97);\n\n\t&[data-visible=true] {\n\t\ttransform: scale(1);\n\t}\n"])),(function(t){var n=t.height;return n?"".concat(n,"px"):"fit-content"}),(function(t){var n=t.width;return n?"width: ".concat(n,"px"):""})),xt=ht.a.div(E||(E=Object(bt.a)(["\n  display        : flex;\n  justify-content: space-between;\n  align-items    : center;\n  padding        : 12px 20px 14px 20px;\n"]))),Ot=ht.a.div(T||(T=Object(bt.a)(["\n\tdisplay       : flex;\n\tflex-direction: column;\n\tpadding       : 0 20px;\n\toverflow-y    : auto;\n\toverflow-x    : auto;\n\n\t&[data-bottom-space=true], :last-child {\n\t\tpadding-bottom: 20px;\n\t}\n"]))),mt=ht.a.div(A||(A=Object(bt.a)(["\n\tdisplay        : flex;\n\tmin-height     : 76px;\n\tmargin-top     : auto;\n\tjustify-content: flex-end;\n\tpadding        : 20px 30px;\n\twidth          : 100%;\n\n\t&[data-hide-splitter='false'] {\n\t\tborder-top: 1px solid #777;\n\t}\n\n\t& > *:not(:last-child) {\n\t\tmargin-right: 30px;\n\t}\n"]))),gt=ht.a.p(J||(J=Object(bt.a)(["\n  font-size  : 18px;\n  font-weight: 600;\n  color      : #333;\n"]))),wt=ht.a.div(N||(N=Object(bt.a)(["\n\theight: 100%;\n\twidth: 100%;\n"]))),yt=function(t){var n=t.height,e=t.width,i=t.children,r=t.containerPin,a=t.contentBottomPadding,o=t.title,c=t.visible,l=t.footer,d=t.hideFooterSplitter,s=void 0!==d&&d,u=t.onClose;return Object(dt.a)("esc",(function(){return null===u||void 0===u?void 0:u()})),Object(Y.jsx)(ft,{"data-visible":c,children:Object(Y.jsx)(pt,{"data-visible":c,"data-pin":null!==r&&void 0!==r&&r,children:Object(Y.jsxs)(vt,{"data-visible":c,height:n,width:e,children:[Object(Y.jsx)(xt,{children:Object(Y.jsx)(gt,{children:o})}),Object(Y.jsx)(Ot,{"data-bottom-space":null!==a&&void 0!==a&&a,children:i}),!c&&Object(Y.jsx)(wt,{style:{minHeight:n,minWidth:e}}),l&&Object(Y.jsx)(mt,{"data-hide-splitter":s,children:l})]})})})},kt=function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(r.useState)(t),e=Object(lt.a)(n,2),i=e[0],a=e[1],o=Object(r.useCallback)((function(){return a((function(t){return!t}))}),[]),c=Object(r.useCallback)((function(){return a(!0)}),[]),l=Object(r.useCallback)((function(){return a(!1)}),[]);return[i,o,c,l]}(),n=Object(lt.a)(t,4),e=n[0],i=n[2],a=n[3];Object(dt.a)("ctrl+k, cmd+k",i);var o=Object(u.useSelector)(ut),c=Object(u.useDispatch)();return Object(Y.jsx)(yt,{title:"Server settings",visible:e,onClose:a,children:Object(Y.jsx)(jt,{style:{margin:0},placeholder:"Hostname",value:o||"",onChange:function(t){return c(k(t.target.value))}})})},St=e(8),Ct=ht.a.button(Q||(Q=Object(bt.a)(["\n  display        : flex;\n  min-width      : fit-content;\n  background     : rgba(136, 136, 136, 0.5);\n  padding        : 18px;\n  border-radius  : 1rem;\n  transition     : 100ms;\n  font-size      : 16px;\n  justify-content: center;\n  color          : #fff;\n  font-weight    : 600;\n  z-index        : 10;\n\n  :active {\n    background: rgba(136, 136, 136, 0.3);\n  }\n\n  :disabled {\n    cursor: default;\n  }\n"]))),zt=function(t){var n=t.children,e=t.disabled,i=t.value,r=t.onClick;return Object(Y.jsx)(Ct,{value:i,disabled:e,onClick:r,children:n})},Mt=ht.a.div(U||(U=Object(bt.a)(["\n\tdisplay       : flex;\n\tflex-direction: column;\n\tmin-width     : 300px;\n\n  & > *:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  & > * {\n    min-width: 300px !important;\n  }\n\n  :not(:last-child) {\n    margin-bottom: 20px;\n  }\n"]))),Ht=ht.a.p(B||(B=Object(bt.a)(["\n  color      : #fff;\n  font-size  : 16px;\n  font-weight: 600;\n  text-align : center;\n"]))),Pt=function(t){var n=t.title,e=t.children;return Object(Y.jsxs)(Mt,{children:[n&&Object(Y.jsx)(Ht,{children:n}),e]})},Yt=e(30),Ft=e.p+"static/media/avatar.7fe14f0a.jpg",Rt=e(51),Dt=ht.a.div(_||(_=Object(bt.a)(["\n  position: relative;\n  display : flex;\n  height  : 100px;\n  width   : 100px;\n\n\timg {\n    top       : 0;\n    left      : 0;\n    position  : absolute;\n    object-fit: contain;\n  }\n"]))),It=function(t){var n=t.src,e=t.placeholderSrc,i=t.height,a=t.width,o=t.blur,c=t.fit,l=t.style,d=Object(r.useState)(!1),s=Object(lt.a)(d,2),u=s[0],b=s[1],h={height:i,width:a,objectFit:c,filter:o?"blur(".concat(o,"px)"):void 0,borderRadius:null===l||void 0===l?void 0:l.borderRadius};return Object(Y.jsxs)(Dt,{style:Object(St.a)(Object(St.a)({},l),{},{height:i,width:a}),children:[e&&!u&&Object(Y.jsx)("img",{src:e,style:h}),Object(Y.jsx)(Rt.LazyLoadImage,{style:Object(St.a)(Object(St.a)({},h),{},{visibility:u?"visible":"hidden"}),afterLoad:function(){return b(!0)},delayTime:200,threshold:300,delayMethod:"throttle",src:m(n)})]})},Lt=e(22),qt=ht.a.div(G||(G=Object(bt.a)(["\n  display    : flex;\n  align-items: center;\n  width      : 300px;\n\n  img {\n    top          : 0;\n    left         : 0;\n    position     : absolute;\n    max-height   : 100px;\n    object-fit   : contain;\n    border-radius: 100px;\n  }\n"]))),Et=ht.a.div(K||(K=Object(bt.a)(["\n  display       : flex;\n  flex-direction: column;\n  margin-left   : 15px;\n  text-align    : left;\n  overflow      : hidden;\n  max-width     : 180px;\n\n  p {\n    color  : #fff;\n    outline: none;\n    width  : 180px;\n  }\n"]))),Tt=ht.a.p(V||(V=Object(bt.a)(["\n  font-weight  : 600 !important;\n  font-size    : 16px !important;\n  white-space  : nowrap;\n  text-overflow: ellipsis;\n  overflow     : hidden;\n"]))),At=ht.a.p(W||(W=Object(bt.a)(["\n  font-weight: 500 !important;\n  font-size  : 14px !important;\n"]))),Jt=function(t){var n=t.username,e=t.date,i=t.avatar;return Object(Y.jsx)(zt,{children:Object(Y.jsxs)(qt,{children:[Object(Y.jsx)(It,{src:i,placeholderSrc:Ft,style:{borderRadius:100}}),Object(Y.jsxs)(Et,{children:[Object(Y.jsx)(Tt,{children:n}),e&&Object(Y.jsx)(At,{children:Object(Lt.unix)(e).format("ddd, DD MMM YYYY  HH:mm")})]})]})})},Nt=["username"],Qt=function(t){var n=t.username,e=Object(Yt.a)(t,Nt),i=Object(r.useMemo)((function(){return"https://www.instagram.com/"+n}),[n]);return Object(Y.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:Object(Y.jsx)(Jt,Object(St.a)({username:n},e))})},Ut=function(t){var n=t.list,e=t.title,i=t.opened,r=t.onClose;return Object(Y.jsx)(yt,{title:e,height:500,visible:i,onClose:r,children:Object(Y.jsx)(Pt,{children:null===n||void 0===n?void 0:n.map((function(t){var n,e=t,i=t;return(null===i||void 0===i?void 0:i.username)?Object(Y.jsx)(Qt,Object(St.a)({},i),i.id):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("p",{children:Object(Lt.unix)(e.time).format("dddd - DD MMMM YYYY -  HH:mm")}),null===e||void 0===e||null===(n=e.items)||void 0===n?void 0:n.map((function(t){return Object(Y.jsx)(Qt,Object(St.a)({},t),t.id)}))]})}))})})},Bt=ht.a.div(X||(X=Object(bt.a)(["\n\tdisplay        : flex;\n\tflex-direction : column;\n\talign-items    : center;\n\tjustify-content: center;\n\twidth          : 100%;\n\tmin-height     : 100vh;\n\toverflow       : hidden;\n\n  & > *:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  & > * {\n    width: 60vw;\n  }\n"]))),_t=ht.a.p(Z||(Z=Object(bt.a)(["\n  text-align: center;\n  color     : #fff;\n  margin-top: 20px;\n  font-size : 14px;\n"]))),Gt=ht.a.div($||($=Object(bt.a)(["\n  display   : flex;\n  width     : 100%;\n  margin-top: 30px;\n\n  button {\n    background: #9933ff;\n    border: 0;\n    width: 100%;\n\n    :active {\n      background: #8000ff;\n    }\n\n    :disabled {\n      background: #42176e;\n    }\n  }\n"]))),Kt=ht.a.div(tt||(tt=Object(bt.a)(["\n  position       : relative;\n  display        : flex;\n  flex-direction : column;\n  align-items    : center;\n  justify-content: center;\n  background     : rgba(0,0,0,0.3);\n  padding        : 50px;\n  border-radius  : 2rem;\n  overflow       : hidden;\n\n  & > * {\n    z-index: 1;\n  }\n  \n  p {\n    :first-child {\n      font-size: 22px;\n      font-weight: 600;\n    }\n\n    color     : #fff;\n    text-align: center;\n  }\n\n  & > *:not(:last-child) {\n    margin-bottom: 10px;\n  }\n"]))),Vt=ht.a.div(nt||(nt=Object(bt.a)(["\n  position: absolute;\n  width   : 100%;\n"]))),Wt=ht.a.div(et||(et=Object(bt.a)(["\n  display              : grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap      : 20px;\n  grid-row-gap         : 20px;\n"]))),Xt=e(52),Zt=function(t){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i="".concat(n," (").concat((null===e||void 0===e?void 0:e.length)||0,")");return{children:i,onClick:function(){return t({title:i,list:e,opened:!0})}}}},$t=function(t){return function(n){var e,i,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=0,c=Object(Xt.a)(a);try{for(c.s();!(r=c.n()).done;){var l=r.value.items;o+=l.length}}catch(u){c.e(u)}finally{c.f()}var d=(null===a||void 0===a||null===(e=a[0])||void 0===e||null===(i=e.items)||void 0===i?void 0:i.length)||0,s="".concat(n," (").concat(o||0,")").concat(d?" +".concat(d):"");return{children:s,onClick:function(){return t({title:s,list:a,opened:!0})}}}},tn=function(){var t,n,e,i,a,o=Object(d.i)().id,c=M(o).data,s=H(),u=Object(lt.a)(s,2),b=u[0],h=u[1],j=h.data,f=h.isLoading,p=j||c,v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(r.useState)({title:"",list:[],opened:!1}),e=Object(lt.a)(n,2),i=e[0],a=e[1],o=Zt(a),c=$t(a),l=t.user,d=t.history;return{buttons:[o("Followers",null===l||void 0===l?void 0:l.followers),o("Following",null===l||void 0===l?void 0:l.following),o("I don't follow back",null===l||void 0===l?void 0:l.notFollowers),o("Don't follow me back",null===l||void 0===l?void 0:l.notFollowing),c("New followers",null===d||void 0===d?void 0:d.newFollowers),c("New following",null===d||void 0===d?void 0:d.newFollowing),c("Lost followers",null===d||void 0===d?void 0:d.lostFollowers),c("Lost following",null===d||void 0===d?void 0:d.lostFollowing)],modal:i,onClose:function(){return a((function(t){return Object(St.a)(Object(St.a)({},t),{},{opened:!1})}))}}}(p),x=(null===p||void 0===p||null===(t=p.user)||void 0===t?void 0:t.updated)?Object(Lt.unix)(null===p||void 0===p||null===(n=p.user)||void 0===n?void 0:n.updated).format("dddd - DD MMMM YYYY -  HH:mm"):null;return Object(Y.jsxs)(Bt,{children:[Object(Y.jsx)(Vt,{children:Object(Y.jsx)(It,{placeholderSrc:Ft,src:m(null===p||void 0===p||null===(e=p.user)||void 0===e?void 0:e.avatar),height:"846px",width:"100%",fit:"cover",blur:100})}),Object(Y.jsx)(l.b,{to:sn.Search,style:{zIndex:1},children:Object(Y.jsx)(_t,{children:"SEARCH"})}),Object(Y.jsxs)(Kt,{children:[Object(Y.jsx)(It,{placeholderSrc:Ft,src:m(null===p||void 0===p||null===(i=p.user)||void 0===i?void 0:i.avatar),height:200,width:200,style:{borderRadius:200}}),Object(Y.jsx)("b",{children:Object(Y.jsx)("p",{children:(null===p||void 0===p||null===(a=p.user)||void 0===a?void 0:a.username)||o})}),Object(Y.jsx)("p",{children:x||"not analyzed"}),Object(Y.jsx)(Gt,{children:Object(Y.jsx)(zt,{children:"Analyz".concat(f?"ing":"e"),disabled:f,onClick:function(){return b(o)}})})]}),Object(Y.jsx)(Wt,{children:v.buttons.map((function(t){return Object(Y.jsx)(zt,Object(St.a)({},t),t.children)}))}),Object(Y.jsx)(Ut,Object(St.a)(Object(St.a)({},v.modal),{},{onClose:v.onClose}))]})},nn=["username"],en=function(t){var n=t.username,e=Object(Yt.a)(t,nn),i=Object(r.useMemo)((function(){return sn.Profile.replace(":id",n)}),[n]);return Object(Y.jsx)(l.b,{to:i,children:Object(Y.jsx)(Jt,Object(St.a)({username:n},e))})},rn=ht.a.div(it||(it=Object(bt.a)(["\n\tdisplay        : flex;\n\tflex-direction : column;\n\talign-items    : center;\n\tjustify-content: center;\n\toverflow-x     : hidden;\n\toverflow-y     : hidden;\n\tmax-height     : 100vh;\n\tmin-width      : 100vw;\n"]))),an=ht.a.div(rt||(rt=Object(bt.a)(["\n  display   : flex;\n  overflow-x: auto;\n  overflow-y: auto;\n\n  & > *:not(:last-child) {\n    margin-right: 20px;\n  }\n"]))),on=ht.a.div(at||(at=Object(bt.a)(["\n  display       : flex;\n  flex-direction: column;\n  overflow-x    : auto;\n  overflow-y    : auto;\n"]))),cn=function(){var t=function(){var t=Object(d.h)().search;return new URLSearchParams(t)}().get("q"),n=Object(d.g)().push,e=Object(r.useState)(""),i=Object(lt.a)(e,2),a=i[0],o=i[1],c=P(),l=Object(lt.a)(c,2),s=l[0],u=l[1].data,b=z().data;Object(r.useEffect)((function(){t&&o(t)}),[]),Object(r.useEffect)((function(){var t;return t=setTimeout((function(){if(a){s(a);var t=new URLSearchParams(window.location.search);t.set("q",a),n({search:t.toString()})}}),1e3),function(){return clearTimeout(t)}}),[s,n,a]);var h=Object(r.useCallback)((function(t){return o(t.target.value)}),[]);return Object(Y.jsxs)(rn,{children:[Object(Y.jsx)(jt,{value:a,spellCheck:!1,onChange:h}),Object(Y.jsxs)(an,{children:[Object(Y.jsx)(on,{children:Object(Y.jsx)(Pt,{title:"History",children:null===b||void 0===b?void 0:b.map((function(t){var n=t.id,e=t.updated,i=t.username,r=t.avatar;return Object(Y.jsx)(en,{date:e,username:i,avatar:r},n)}))})}),Object(Y.jsx)(on,{children:Object(Y.jsx)(Pt,{title:"Search",children:null===u||void 0===u?void 0:u.map((function(t){var n=t.id,e=t.username,i=t.avatar;return Object(Y.jsx)(en,{username:e,avatar:i},n)}))})})]})]})},ln=ht.a.div(ot||(ot=Object(bt.a)(["\n  width     : 100vw;\n  min-height: 100vh;\n  background: #555;\n"]))),dn=function(t){return"/spy-follow".concat(t)},sn={Search:dn("/search"),Profile:dn("/profile/:id")};var un=function(){return Object(Y.jsx)(ct,{children:Object(Y.jsx)(l.a,{children:Object(Y.jsxs)(ln,{children:[Object(Y.jsxs)(d.d,{children:[Object(Y.jsx)(d.b,{path:sn.Search,component:cn}),Object(Y.jsx)(d.b,{path:sn.Profile,component:tn}),Object(Y.jsx)(d.a,{from:"*",to:sn.Search})]}),Object(Y.jsx)(kt,{})]})})})};c.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(un,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.4b87427f.chunk.js.map